<page-header heading="New Business Partner" sub-heading="Add" ></page-header>
<page-blue-container>
      <div class="row">
        <div class="col-xs-12">
            <!--<accordion close-others="true">-->
                <!--<accordion-group is-open="vm.generalInfoOpen">-->
                    <!--<accordion-heading>-->
                        <!--Basic Information <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': vm.generalInfoOpen, 'glyphicon-chevron-right': !vm.generalInfoOpen}"></i>-->
                    <!--</accordion-heading>-->
                    <!--<div class="form-horizontal dg-infoDivTable">-->
                        <!--<div class="clearfix">-->
                            <!--<div class="col-md-12">-->
                                <!--<div class="form-group">-->
                                    <!--<div class="col-sm-12 control-label">-->
                                        <!--<label class="col-sm-12 control-label marginLeft15">Business Partner Name</label>-->
                                        <!--<div class="col-sm-12 marginLeft15">-->
                                            <!--<input type="text" class="form-control" ng-model="vm.businessPartner.name" placeholder="Please enter business partner name here">-->
                                        <!--</div>-->
                                    <!--</div>-->
                                <!--</div>-->
                            <!--</div>-->
                            <!--<div class="col-md-6">-->
                                <!--<div class="form-group">-->
                                    <!--<div class="col-sm-12 control-label">-->
                                        <!--<label class="col-sm-12 control-label marginLeft15">Country</label>-->
                                        <!--<div class="col-sm-12 marginLeft15">-->
                                            <!--<selectize placeholder='Please enter Country' config="vm.singleConfig" ng-model="vm.businessPartner.country"></selectize>-->
                                        <!--</div>-->
                                    <!--</div>-->
                                <!--</div>-->
                                <!--<div class="form-group">-->
                                    <!--<div class="col-sm-12 control-label">-->
                                        <!--<label class="col-sm-12 control-label marginLeft15">Website</label>-->
                                        <!--<div class="col-sm-12 marginLeft15">-->
                                            <!--<input type="text" class="form-control" ng-model="vm.businessPartner.website" placeholder="Please enter business partner website here">-->
                                        <!--</div>-->
                                    <!--</div>-->
                                <!--</div>-->
                                <!--<div class="form-group">-->
                                    <!--<label class="col-sm-12 control-label">Business Partner Type</label>-->
                                    <!--<div class="col-sm-3" ng-repeat="type in vm.possibleBPTypes">-->
                                        <!--<input type="checkbox" class="bpChecks" ng-model="type.isChecked">-->
                                        <!--<p class="form-control-static">{{type.name}}</p>-->
                                    <!--</div>-->
                                <!--</div>-->
                                <!--<div class="form-group">-->
                                    <!--<label class="col-sm-12 control-label">Credibility Rating</label>-->
                                    <!--<div class="col-sm-12">-->
                                        <!--<input type="number" min="0" max="5" class="form-control" ng-model="vm.businessPartner.creditRating" placeholder="Credibility Rating">-->
                                    <!--</div>-->
                                <!--</div>-->
                            <!--</div>-->
                            <!--<div class="col-md-6">-->
                                <!--<div class="form-group">-->
                                    <!--<div class="col-sm-12 control-label">-->
                                        <!--<label class="col-sm-12 control-label marginLeft15">Fax Number</label>-->
                                        <!--<div class="col-sm-12 marginLeft15">-->
                                            <!--<input type="text" class="form-control" ng-model="vm.businessPartner.faxNumber" placeholder="Please enter business partner FAX number here">-->
                                        <!--</div>-->
                                    <!--</div>-->
                                <!--</div>-->
                                <!--<div class="form-group" ng-show="vm.possibleBPTypes[0].isChecked">-->
                                    <!--<label class="col-sm-12 control-label">Buyer Contract Type</label>-->
                                    <!--<div class="col-sm-6" ng-repeat="type in vm.buyerContractTypes">-->
                                        <!--<input type="checkbox" class="bpChecks" ng-model="type.isChecked">-->
                                        <!--<p class="form-control-static">{{type.name}}</p>-->
                                    <!--</div>-->
                                <!--</div>-->
                            <!--</div>-->
                        <!--</div>-->
                    <!--</div>-->
                <!--</accordion-group>-->
                <!--<accordion-group is-open="vm.contactPersonInfoOpen">-->
                    <!--<accordion-heading>-->
                        <!--Contact Person<span ng-if="vm.businessPartner.contactPerson.length>0">({{vm.businessPartner.contactPerson.length}})</span> <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': vm.contactPersonInfoOpen, 'glyphicon-chevron-right': !vm.contactPersonInfoOpen}"></i>-->
                    <!--</accordion-heading>-->
                    <!--<div class="form-horizontal dg-infoDivTable">-->
                        <!--<div class="clearfix">-->
                            <!--<div class="col-md-12">-->
                                <!--<i ng-click="vm.addContactPerson()"    class="addSubtract pull-right glyphicon glyphicon-plus"></i>-->
                                <!--<i ng-click="vm.subContactPerson" class="addSubtract pull-right glyphicon glyphicon-minus"></i>-->
                            <!--</div>-->
                            <!--<div ng-repeat="contactPerson in vm.businessPartner.contactPerson">-->
                                <!--<div class="col-md-12">-->
                                    <!--<div class="form-group">-->
                                        <!--<label class="col-sm-12 control-label marginLeft15 largerFont">Contact No. {{$index + 1}}</label>-->
                                    <!--</div>-->
                                <!--</div>-->
                                <!--<div class="col-md-2">-->
                                    <!--<div class="form-group">-->
                                        <!--<label class="col-sm-12 control-label marginLeft15">Title</label>-->
                                        <!--<div class="col-sm-12 marginLeft15">-->
                                            <!--<input type="text" class="form-control" ng-model="contact.title" placeholder="Title">-->
                                        <!--</div>-->
                                    <!--</div>-->
                                <!--</div>-->
                                <!--<div class="col-md-5">-->
                                    <!--<div class="form-group">-->
                                        <!--<label class="col-sm-12 control-label marginLeft15">First Name</label>-->
                                        <!--<div class="col-sm-12 marginLeft15">-->
                                            <!--<input type="text" class="form-control" ng-model="contact.firstName" placeholder="First Name">-->
                                        <!--</div>-->
                                    <!--</div>-->
                                <!--</div>-->
                                <!--<div class="col-md-5">-->
                                    <!--<div class="form-group">-->
                                        <!--<label class="col-sm-12 control-label marginLeft15">Last Name</label>-->
                                        <!--<div class="col-sm-12 marginLeft15">-->
                                            <!--<input type="text" class="form-control" ng-model="contact.lastName" placeholder="Last Name">-->
                                        <!--</div>-->
                                    <!--</div>-->
                                <!--</div>-->
                                <!--<div class="col-md-12">-->
                                    <!--<div class="form-group">-->
                                        <!--<label class="col-sm-12 control-label marginLeft15">Designation</label>-->
                                        <!--<div class="col-sm-12 marginLeft15">-->
                                            <!--<input type="text" class="form-control" ng-model="contact.designation" placeholder="Designation">-->
                                        <!--</div>-->
                                    <!--</div>-->
                                <!--</div>-->
                                <!--<div class="col-md-12">-->
                                    <!--<div class="form-group marginLeft15">-->
                                        <!--<label class="col-sm-12 control-label">Email Address</label>-->
                                        <!--<div class="col-sm-12">-->
                                            <!--<tags-input ng-model="contact.emails"-->
                                                        <!--placeholder="Add business partner e-mail">-->
                                            <!--</tags-input>-->
                                        <!--</div>-->
                                    <!--</div>-->
                                <!--</div>-->
                                <!--<div class="col-md-12">-->
                                    <!--<div class="form-group marginLeft15">-->
                                        <!--<label class="col-sm-12 control-label">Contact Numbers</label>-->
                                        <!--<div class="col-sm-12">-->
                                            <!--<tags-input ng-model="contact.contactNumbers"-->
                                                        <!--placeholder="Add business partner e-mail">-->
                                            <!--</tags-input>-->
                                        <!--</div>-->
                                    <!--</div>-->
                                <!--</div>-->
                            <!--</div>-->

                        <!--</div>-->
                    <!--</div>-->
                <!--</accordion-group>-->
            <!--</accordion>-->
            </br>
            <div class="col-xs-12 businessPartnerSteps">
                <div ng-class="{'active':step.isActive}" class="col-xs-2 step" ng-repeat="step in vm.steps">
                    <div ng-bind="step.caption"></div>
                </div>
            </div>
            <form name="vm.businessPartnerForm" novalidate>
                <page-blue-container  ng-if="vm.currentStep===0" >

                        <div class="col-lg-12  marginLeft15">
                            <div class="col-lg-12 tableHeading">
                                <label>Basic Information</label>
                            </div>
                            <div class="form-group col-xs-12">
                                <label>Business Partner Name</label>
                                <input name="bpName" class="form-control" type="text" ng-disabled="vm.viewMode" ng-required="true" placeholder='Please enter business partner name' ng-model="vm.businessPartner.name"/>
                                <div ng-messages='vm.businessPartnerForm.bpName.$error'
                                     ng-if='vm.businessPartnerForm.bpName.$dirty || vm.businessPartnerForm.$submitted'>
                                    <div class="errorValidation" ng-message="required">Business partner name is required.</div>
                                </div>
                            </div>
                            <div class="form-group col-xs-12">
                                <label>Website</label>
                                <input name="website" type="url" class="form-control" type="text" ng-disabled="vm.viewMode" placeholder='https://www.google.com (optional)' ng-model="vm.businessPartner.website"/>

                                <div ng-messages='vm.businessPartnerForm.website.$error'
                                     ng-if='vm.businessPartnerForm.website.$dirty || vm.businessPartnerForm.$submitted'>
                                    <div class="errorValidation" ng-message="url">Invalid web address provided.</div>
                                </div>
                            </div>

                            <div class="form-group col-xs-12">
                                <label class="col-sm-12 control-label">Business Partner Type</label>
                                <div class="col-xs-12 col-md-6" ng-repeat="type in vm.possibleBPTypes">
                                    <input type="checkbox" class="bpChecks" ng-model="type.isChecked">
                                    <p class="form-control-static">{{type.name}}</p>
                                </div>
                            </div>
                            <div class="form-group col-xs-12">
                                <label>Credibility Rating</label>
                                <rzslider
                                        rz-slider-model="vm.businessPartner.creditRating"
                                        rz-slider-floor="0"
                                        rz-slider-ceil="5"></rzslider>

                            </div>

                        </div>

                </page-blue-container>
                <page-blue-container ng-if="vm.currentStep===1"  >
                    <div class="row">
                        <div class="col-lg-12  marginLeft15">
                            <div class="col-lg-12 tableHeading">
                                <label>Products</label>
                            </div>
                            <div class="col-xs-12">
                                <tags-input ng-model="vm.BusinessPartnerProducts" add-on-paste="false"
                                            replace-spaces-with-dashes="false"
                                            add-from-autocomplete-only="true"
                                            placeholder="Add product tags for business partner "
                                            key-property="value"
                                            min-length="1" display-property="text">
                                    <auto-complete source="vm.loadProducts($query)" min-length="0"
                                                   load-on-focus="true"
                                                   template="productTagInput"
                                                   max-results-to-show="32">
                                    </auto-complete>
                                </tags-input>
                            </div>

                        </div>
                    </div>
                </page-blue-container>
                <div ng-if="vm.currentStep===2"  class="row">
                    <div class="col-lg-12  marginLeft15">
                        <div class="col-lg-12 tableHeading">
                            <label>Business Partner Contact Details </label>
                        </div>

                    </div>
                </div>
                <div ng-if="vm.currentStep===3"  class="row">
                    <div class="col-lg-12  marginLeft15">
                        <div class="col-lg-12 tableHeading">
                            <label>Bank Details</label>
                            <label class="pull-right">
                                <i class="fa fa-plus-circle orangeFont" ng-click="vm.addBankDetails()"></i>
                            </label>
                        </div>
                        <div class="col-lg-12" ng-repeat="bankDetails in vm.businessPartner.bankDetails">
                            <div class="col-lg-12 innerHeading">
                                <label>Bank Detail {{$index+1}}</label>
                                <label class="pull-right">
                                    <i class="fa fa-trash deleteTrash" ng-click="vm.removeBankDetails('Bank Detail '+($index+1), $index)"></i>
                                    &nbsp;&nbsp;
                                    <i class="fa fa-pencil editPen"></i>
                                </label>
                            </div>
                            </br>
                            <textarea class="form-control" ></textarea>
                            </br>
                        </div>
                    </div>
                </div>
                <div ng-if="vm.currentStep===4"  class="row">
                    <div class="col-lg-12  marginLeft15">
                        <div class="col-lg-12 tableHeading">
                            <label>Contact Person Information</label>
                            <label class="pull-right">
                                <i class="fa fa-plus-circle orangeFont"></i>
                            </label>
                        </div>

                    </div>
                </div>

                </br>
                <div class="form-group  col-xs-12 marginLeft15">
                    <button type="submit" class="btn btn-default submitBtn pull-right" ng-click="vm.next()">Next</button>
                    <button type="submit" class="btn btn-default" ui-sref="^">Cancel</button>
                </div>
                </br>

            </form>
        </div>

    </div>

</page-blue-container>

<script type="text/ng-template" id="productTagInput">
    <div>
        <span ng-bind-html="$highlight($getDisplayText())"></span>

        <span class="pull-right">
            <span><b>Origin: </b>{{data.origin}}</span>
            <span ng-if="data.quality!==null">, <b>Quality: </b>{{data.quality}}</span>
        </span>
    </div>
</script>

